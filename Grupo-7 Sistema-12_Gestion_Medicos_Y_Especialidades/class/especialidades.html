<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../styles/medicos.css">
  <title>Document</title>
  <script src="../class/medico.js"></script>
</head>

<body>
    <nav>
        <div class="logo items-nav">
          <!-- <img src="icons/house-solid.svg" width="80px" height="50px"/> -->
          <img src="../icons/house-solid.svg" alt="House icon" width="80px" height="50px"/>
        </div>
        <div class="items-nav medio ">
          <div><img src="../icons/truck-medical-solid.svg" alt="" width="80px" height="50px" /></div>
          <div>MEDI-CONECT</div>
        </div>
        <div class="items-nav login">
          <h3 class="item-login" onclick="location.href='inicio.html'">Volver</h3>
        </div>
    </nav>

  
 
  <script>
    let Ctr_medico = new ControlMedico();
    Ctr_medico.listar_medicos();
    let lista_medicos = Ctr_medico.listaMedicos;
    console.console.log(lista_medicos);
    
    
    function armar_tabla_medicos(medicos) {
      const tablaMedicos = document.getElementById("tabla_medicos");
      var html =``;
      medicos.forEach(function (medico) {
        html += ` 
              <p>${medico.nombre}</p>
              <img src="../images/login.jpg" height="100px"> <br>
              <div class="descripcion">${medico.descripcion}</div>
                                                      
              `;
      });
      html += `</tbody>
        </table>`;
      return html;
    }

    function mostrarLista(listaMedicos) {
      document.getElementById("tabla_medicos").innerHTML = armar_tabla_medicos(listaMedicos);
      document.getElementById("formulario").innerHTML="";    
      document.getElementById('formulario').style.backgroundColor = "#f0f0f0"
      document.getElementById('formulario').style.border = "1px solid #f0f0f0"   
    }

    // function a√±adirMedico() {
    //   //limpio la lista
    //   document.getElementById("tabla_medicos").innerHTML="";  

    //   document.getElementById('formulario').innerHTML =
    //     `
    //     <h2>Registrar nuevo medico</h2>
    //     <label for="nombre">Nombre</label>
    //     <input type="text" name="nombre">
    //     <label for="cuenta">Cuenta</label>
    //     <input type="text" name="cuenta">
    //     <label for "clave">Clave</label>
    //     <input type="text" name="clave">
    //     <label for="email">Email</label>
    //     <input type="text" name="email">
    //     <label for="rol">Rol</label>
    //     <select name="rol" id="">
    //       <option value="medico">Medico</option>
    //       <option value="administrador">Administrador</option>
    //     </select>
    //     <br>
    //     <input type="button" value="Registrar">
    //     `
    //   document.getElementById('formulario').style.backgroundColor = "#fff"
    //   document.getElementById('formulario').style.border = "1px solid #ddd"
    // }

    // var formulario = document.getElementById("formulario");
    // var newId = lista_medicos.length;

    // formulario.addEventListener("submit", function (event) {
    //   event.preventDefault();
    //   let nombre = formulario.nombre.value;
    //   let cuenta = formulario.cuenta.value;
    //   let clave = formulario.clave.value;
    //   let email = formulario.email.value;
    //   let rol = formulario.rol.value;
    //   if (nombre == "" || cuenta == "" || clave == "" || email == "" || rol == "") {
    //     alert("Debe llenar todos los campos");
    //   } else {
        
    //     newId++;
    //     let medico = new Medico(newId, nombre, cuenta, clave, email, rol);
    //     Ctr_medico.adicionar_Medico(medico);
    //     if (document.getElementById("tabla_medicos").innerHTML == '') {
    //       document.getElementById("tabla_medicos").innerHTML = ''
    //     } else {
    //       mostrarLista(Ctr_medico.listaMedico);
    //     }
    //     formulario.reset();
    //   }
    // });


    function buscar() {
      let medicoBuscar = document.getElementById("buscar").value;
      
      Ctr_medico.listaMedicos.forEach(function (medico) {
        if (medico.id == medicoBuscar || medico.nombre == medicoBuscar || medico.esperiencia == medicoBuscar ) {
          let ctrlMedico = new ControlMedico();
          ctrlMedico.adicionar_Medico(medico);
          console.log(ctrlMedico.listaMedicos)
          mostrarLista(ctrlMedico.listaMedicos)
        }
      })
    }

    // function eliminar(id) {
    //   document.getElementsByName("eliminar").forEach(function (boton) {
    //     if (boton.value == id) {
    //       Ctr_medico.eliminar(id)
    //       mostrarLista(Ctr_medico.listaMedico)
    //     }
    //   })
    // }

    // let medicoAActualizarId = null;

// function modificar(id) {
//   medicoAActualizarId = id;
//   Ctr_medico.listaMedico.forEach(function (medico) {
//     if (medico.id === id) {
//       document.getElementById('formulario').innerHTML = `
//         <h2>Modificar Medico</h2>
//         <label for="nombre">Nombre</label>
//         <input type="text" name="nombre" value="${medico.nombre}">
//         <label for="cuenta">Cuenta</label>
//         <input type="text" name="cuenta" value="${medico.cuenta}">
//         <label for="clave">Clave</label>
//         <input type="text" name="clave" value="${medico.clave}">
//         <label for="email">Email</label>
//         <input type="text" name="email" value="${medico.email}">
//         <label for="rol">Rol</label>
//         <select name="rol" id="">
//           <option value="medico">Medico</option>
//           <option value="administrador">Administrador</option>
//         </select>
//         <br>
//         <input type="button" onclick="actualizar()" value="Actualizar">
//       `;
//       document.getElementById('formulario').style.backgroundColor = "#fff";
//       document.getElementById('formulario').style.border = "1px solid #ddd";
//     }
//   });
// }

// function actualizar() {
//   if (medicoAActualizarId !== null) {
//     let formulario = document.getElementById("formulario");
//     let nombre = formulario.nombre.value;
//     let cuenta = formulario.cuenta.value;
//     let clave = formulario.clave.value;
//     let email = formulario.email.value;
//     let rol = formulario.rol.value;

//     Ctr_medico.modificar(medicoAActualizarId-1, nombre, cuenta, clave, email, rol);

//     formulario.reset();

//     medicoAActualizarId = null;
//     mostrarLista(Ctr_medico.listaMedico);
    
//   }
// }
  
  </script>
 </body>

</html>